@using CarApp.DTO
@model IEnumerable<TripLogDTO>

@if (User.Identity.IsAuthenticated)
{
	<div class="container my-4 d-flex">
		<div class="col-3 me-3">
			<div class="myFrame">
				<h3 class="mb-4 ms-4">Statistics</h3>
				<ul >
					<hr/>
					<h4>Summary</h4>
					<li class="mb-3">Trips sum: <strong class="text-danger">- to do -</strong></li>
					<li class="mb-3">Average days out: <strong class="text-danger">- to do -</strong></li>
					<li class="mb-3">Average distance: <strong class="text-danger">- to do -</strong></li>
					<hr />
					<h4>Performance</h4>
					<li class="mb-3">Car Furthest: <strong class="text-danger">- to do -</strong></li>
					<li class="mb-3">Car longest out: <strong class="text-danger">- to do -</strong></li>
					<li class="mb-3">Car most often out: <strong class="text-danger">- to do -</strong></li>
				</ul>
			</div>			
		</div>
		<div class="col-9">
			<div class="myFrame mb-3">
				<h3>List of all trips</h3>
				<form method="get" asp-controller="TripLogs" asp-action="OrderBy" class="d-inline-flex flex-column flex-md-row gap-2 align-items-center">
					<label for="SortOptionTrips">Sort by:</label>
					<select name="sortOptionTrips" class="form-control selectInput" asp-items="ViewBag.SortOptionsTrips">
						<option value="">-- Select option --</option>
					</select>
					<select name="sortDirection" class="form-control selectInput">
						<option value="Asc">Ascending</option>
						<option value="Desc">Descending</option>
					</select>
					<button type="submit" class="btn btn-gradient btn-100w">Sort</button>
				</form>
			</div>

			<div class="myFrame table-responsive table-striped">
				<div class="tableHeight">
					<table class="table table-striped ">
						<thead class="">
							<tr>
								<th style="width: 20%;">Car</th>
								<th style="width: 10%;">Start Date</th>
								<th style="width: 10%;">End Date</th>
								<th style="width: 10%;">Distance (km)</th>
								<th style="width: 50%;">Purpose</th>
							</tr>
						</thead>
						<tbody>
				@foreach (var item in Model)
				{
								<tr>
									<td>@item.CarBrand @item.CarModel</td>
									<td>@item.StartDate.ToShortDateString()</td>
									<td>@item.EndDate.ToShortDateString()</td>
									<td>@item.DistanceKm.ToString("N0")</td>
									<td>@item.Purpose</td>
								</tr>
				}
						</tbody>
					</table>
				</div>
				
			</div>
		</div>		
	</div>
		
}
